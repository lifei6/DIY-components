# DIY-components
自己封装的组件库

# 目录
## react组件
### indictor为指示器
1. 使用
需要父组件传递参数：
------------------
|name|description|example value|
|:----:|:--------|:----|
|children|父组件传递过来的结构（插槽），通常为列表遍历，为滑块的组成单元|div列表、img列表、自定义组件列表|
|curIndex|当前选中单元索引|index|
--------------------
之后父元素只需要设置对应指示器宽度就可以使用了

2. 样式部分实现原理
+ 在最外层包裹一个容器（外容器）超出部分hidden，用来确定需要展示的宽度（这个宽度由父元素width确定），开启相对定位（方便之后计算偏移量）
+ 内容器开启浮动，设置子元素不压缩（flex-shrink:0,因为浮动默认是会压缩的，而我们需要一个不压缩的实际可滚动的大小，不然直接被压缩成设置的外容器大小，导致没有滚动的余地）；动态的移动内容器，并添加移动动画

3. 组件原理
+ 获取内容器
+ 获取当前应居中的元素（单元）
+ 计算元素相关属性offsetLeft(偏移量相对于最近的开启定位的祖先元素);元素的宽度（可见clientWidth大小）
+ 计算内容器（被隐藏时的）大小（clientWidth为被父元素隐藏后的可见大小）和scrollWidth可滚动大小
+ 计算内容器应左右移动的距离translateDistant(负代表不需要移动的元素)；需要考虑左边极限和右边极限情况（这里默认循环）
+ 动态改变容器移动的样式（css in js直接以参数传递给样式组件）（也可以获取dom去改变样式）


### scroll-view为滑动栏
1. 使用
需要父组件传递参数：
------------------
|name|description|example value|
|:----:|:--------|:----|
|children|父组件传递过来的结构（插槽），通常为列表遍历，为滑块的组成单元|div列表、img列表|
|imgAddClass|传递过来的是图片列表时额外添加的属性|true/false(默认)|
--------------------
之后父元素只需要设置对应滑动兰宽度就可以使用了

2. 样式部分原理
+ 左右按钮（图标）用绝对定位固定在两边，更具滑块的状态确定是否显示和隐藏
+ 外容器开启相对定位，设置超出部分hidden；根据是否传入imgAddClass决定动态添加左右外边距-8px(~~对其作用~~)
+ 内容器开启浮动设置不压缩；根据当前状态动态的偏移和偏移时的动画

3. 组件原理
+ 组件挂载完毕，计算外容器实际宽度（可滚动的宽度）、显示的宽度（隐藏部分后的可见宽度）、计算出隐藏宽度（我们可以滑动的最大距离），大于零显示右边按钮
+ 按钮点击后进行事件处理：1.左边按钮设置索引加1；2.右边按钮设置索引-1；3.计算出索引对应元素的左侧偏移量；4.判断左右按钮是否显示；5.更新维护的显示为第一个元素的索引和偏移量
+ 根据偏移量去动态改变内容器的左侧移动距离样式



### picture-brouser为图片浏览器
